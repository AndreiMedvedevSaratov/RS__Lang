{"remainingRequest":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\babel-loader\\lib\\index.js!F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\eslint-loader\\index.js??ref--12-0!F:\\RS\\Repositaries\\RS-Lang\\rslang\\src\\store\\auth.js","dependencies":[{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\src\\store\\auth.js","mtime":1594829959415},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1JTL1JlcG9zaXRhcmllcy9SUy1MYW5nL3JzbGFuZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Ci8qKiBJbnN0cnVjdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBhY3Rpb25zDQogKiBsaW5rIGh0dHBzOi8vdnVleC52dWVqcy5vcmcvYXBpLyNhY3Rpb25zDQogKi8KCnZhciBhY3Rpb25zID0gewogIEFVVEhfUkVRVUVTVDogZnVuY3Rpb24gQVVUSF9SRVFVRVNUKF9yZWYpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByb290U3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2g7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICByb290U3RhdGUgPSBfcmVmLnJvb3RTdGF0ZSwgY29tbWl0ID0gX3JlZi5jb21taXQsIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgICAgICAgICBjb21taXQoJ0FVVEhfUkVRVUVTVCcpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChyb290U3RhdGUuYXBwLnNlcnZlciwgIi9zaWduaW4iKSwgewogICAgICAgICAgICAgICAgZW1haWw6IHJvb3RTdGF0ZS51c2VyLnByb2ZpbGUuZW1haWwsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogcm9vdFN0YXRlLnVzZXIucHJvZmlsZS5wYXNzd29yZAogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgnQVVUSF9EQVRBJywgdXNlci5kYXRhKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnQVVUSF9TVUNDRVNTJyk7CiAgICAgICAgICAgICAgICBjb21taXQoJ0FQUF9TVEFUVVMnLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgnQVVUSF9FUlJPUicsIGVyci5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnQUxFUlQnLCB7CiAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgZGF0YTogZXJyLnJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgQVVUSF9SRUZSRVNIX1RPS0VOOiBmdW5jdGlvbiBBVVRIX1JFRlJFU0hfVE9LRU4oX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgc3RhdGUsIHJvb3RTdGF0ZSwgY29tbWl0LCBkaXNwYXRjaDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlLCByb290U3RhdGUgPSBfcmVmMi5yb290U3RhdGUsIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaDsKICAgICAgICAgICAgICBjb21taXQoJ0FVVEhfUkVRVUVTVCcpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChyb290U3RhdGUuYXBwLnNlcnZlciwgIi91c2Vycy8iKS5jb25jYXQocm9vdFN0YXRlLnVzZXIucHJvZmlsZS51c2VySWQsICIvdG9rZW5zIiksIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChzdGF0ZS5yZWZyZXNoVG9rZW4pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodXNlcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlci5kYXRhKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnQVVUSF9EQVRBJywgdXNlci5kYXRhKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnQVVUSF9TVUNDRVNTJyk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0FMRVJUJywgewogICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgIGRhdGE6IGVyci5yZXNwb25zZS5kYXRhCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgQVVUSF9MT0dPVVQ6IGZ1bmN0aW9uIEFVVEhfTE9HT1VUKF9yZWYzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIGNvbW1pdCgnQVBQX1NUQVRVUycsICdzdWNjZXNzJyk7CiAgICAgIGNvbW1pdCgnQVVUSF9MT0dPVVQnKTsKICAgICAgY29tbWl0KCdBVVRIX1NVQ0NFU1MnKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CiAgfQp9OwovKioNCiAqIEluc3RydWN0aW9ucyBmb3Igd29ya2luZyB3aXRoIG11dGF0aW9ucw0KICogbGluayBodHRwczovL3Z1ZXgudnVlanMub3JnL2d1aWRlL211dGF0aW9ucy5odG1sDQogKi8KCnZhciBtdXRhdGlvbnMgPSB7CiAgQVVUSF9SRVFVRVNUOiBmdW5jdGlvbiBBVVRIX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLnN0YXR1cyA9ICdsb2FkaW5nJzsKICB9LAogIEFVVEhfU1VDQ0VTUzogZnVuY3Rpb24gQVVUSF9TVUNDRVNTKHN0YXRlKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSAnc3VjY2Vzcyc7CiAgfSwKICBBVVRIX0RBVEE6IGZ1bmN0aW9uIEFVVEhfREFUQShzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudG9rZW4gPSB1c2VyLnRva2VuOwogICAgc3RhdGUucmVmcmVzaFRva2VuID0gdXNlci5yZWZyZXNoVG9rZW47CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB1c2VyLnRva2VuKTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoVG9rZW4nLCB1c2VyLnJlZnJlc2hUb2tlbik7CiAgICBpZiAodXNlci51c2VySWQpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCB1c2VyLnVzZXJJZCk7CiAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbiA9IHsKICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh1c2VyLnRva2VuKQogICAgfTsKICB9LAogIEFVVEhfRVJST1I6IGZ1bmN0aW9uIEFVVEhfRVJST1Ioc3RhdGUpIHsKICAgIHN0YXRlLnN0YXR1cyA9ICdlcnJvcic7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyZWZyZXNoVG9rZW4nKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySWQnKTsKICB9LAogIEFVVEhfTE9HT1VUOiBmdW5jdGlvbiBBVVRIX0xPR09VVChzdGF0ZSkgewogICAgc3RhdGUudG9rZW4gPSAnJzsKICAgIHN0YXRlLnJlZnJlc2hUb2tlbiA9ICcnOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJJZCcpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaFRva2VuJyk7CiAgfQp9OwovKioNCiAqIEluc3RydWN0aW9ucyBmb3Igd29ya2luZyB3aXRoIGdldHRlcnMNCiAqIGxpbmsgaHR0cHM6Ly92dWV4LnZ1ZWpzLm9yZy9hcGkvI2dldHRlcnMNCiAqLwoKdmFyIGdldHRlcnMgPSB7CiAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgIHJldHVybiAhIXN0YXRlLnRva2VuOwogIH0sCiAgYXV0aFN0YXR1czogZnVuY3Rpb24gYXV0aFN0YXR1cyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnN0YXR1czsKICB9LAogIGlzTG9hZGluZzogZnVuY3Rpb24gaXNMb2FkaW5nKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc3RhdHVzID09PSAnbG9hZGluZyc7CiAgfQp9Owp2YXIgc3RhdGUgPSB7CiAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpIHx8ICcnLAogIHJlZnJlc2hUb2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlZnJlc2hUb2tlbicpIHx8ICcnLAogIHN0YXR1czogJycKfTsKZXhwb3J0IGRlZmF1bHQgewogIC8vIG5hbWVzcGFjZWQgZmFsc2UuIFRvIG1ha2UgaXQgYXZhaWxhYmxlIHRocm91Z2hvdXQgdGhlIHByb2plY3Qgd2l0aG91dCBzcGVjaWFsIHBvaW50ZXJzLgogIG5hbWVzcGFjZWQ6IGZhbHNlLAogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["F:/RS/Repositaries/RS-Lang/rslang/src/store/auth.js"],"names":["axios","actions","AUTH_REQUEST","rootState","commit","dispatch","post","app","server","email","user","profile","password","then","data","catch","err","response","status","AUTH_REFRESH_TOKEN","state","get","userId","headers","Authorization","refreshToken","console","log","AUTH_LOGOUT","Promise","resolve","mutations","AUTH_SUCCESS","AUTH_DATA","token","localStorage","setItem","defaults","common","AUTH_ERROR","removeItem","getters","isAuthenticated","authStatus","isLoading","getItem","namespaced"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\n/** Instructions for working with actions\r\n * link https://vuex.vuejs.org/api/#actions\r\n */\r\nconst actions = {\r\n\tasync AUTH_REQUEST({\r\n\t\trootState, commit, dispatch,\r\n\t}) {\r\n\t\tcommit('AUTH_REQUEST');\r\n\t\tawait axios.post(`${rootState.app.server}/signin`, {\r\n\t\t\temail: rootState.user.profile.email,\r\n\t\t\tpassword: rootState.user.profile.password,\r\n\t\t}).then((user) => {\r\n\t\t\tcommit('AUTH_DATA', user.data);\r\n\t\t\tcommit('AUTH_SUCCESS');\r\n\t\t\tcommit('APP_STATUS', 'success');\r\n\t\t}).catch((err) => {\r\n\t\t\tcommit('AUTH_ERROR', err.response);\r\n\t\t\tdispatch('ALERT', { status: 'error', data: err.response.data });\r\n\t\t});\r\n\t},\r\n\tasync AUTH_REFRESH_TOKEN({\r\n\t\tstate, rootState, commit, dispatch,\r\n\t}) {\r\n\t\tcommit('AUTH_REQUEST');\r\n\r\n\t\tawait axios.get(`${rootState.app.server}/users/${rootState.user.profile.userId}/tokens`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${state.refreshToken}`,\r\n\t\t\t},\r\n\t\t}).then((user) => {\r\n\t\t\tconsole.log(user.data);\r\n\t\t\tcommit('AUTH_DATA', user.data);\r\n\t\t\tcommit('AUTH_SUCCESS');\r\n\t\t}).catch((err) => {\r\n\t\t\tdispatch('ALERT', { status: 'error', data: err.response.data });\r\n\t\t});\r\n\t},\r\n\tAUTH_LOGOUT({ commit }) {\r\n\t\treturn new Promise(((resolve) => {\r\n\t\t\tcommit('APP_STATUS', 'success');\r\n\t\t\tcommit('AUTH_LOGOUT');\r\n\t\t\tcommit('AUTH_SUCCESS');\r\n\t\t\tresolve();\r\n\t\t}));\r\n\t},\r\n\r\n};\r\n\r\n/**\r\n * Instructions for working with mutations\r\n * link https://vuex.vuejs.org/guide/mutations.html\r\n */\r\nconst mutations = {\r\n\tAUTH_REQUEST: (state) => {\r\n\t\tstate.status = 'loading';\r\n\t},\r\n\tAUTH_SUCCESS: (state) => {\r\n\t\tstate.status = 'success';\r\n\t},\r\n\tAUTH_DATA: (state, user) => {\r\n\t\tstate.token = user.token;\r\n\t\tstate.refreshToken = user.refreshToken;\r\n\t\tlocalStorage.setItem('token', user.token);\r\n\t\tlocalStorage.setItem('refreshToken', user.refreshToken);\r\n\t\tif (user.userId) localStorage.setItem('userId', user.userId);\r\n\t\taxios.defaults.headers.common = { Authorization: `Bearer ${user.token}` };\r\n\t},\r\n\tAUTH_ERROR: (state) => {\r\n\t\tstate.status = 'error';\r\n\t\tlocalStorage.removeItem('token');\r\n\t\tlocalStorage.removeItem('refreshToken');\r\n\t\tlocalStorage.removeItem('userId');\r\n\t},\r\n\tAUTH_LOGOUT: (state) => {\r\n\t\tstate.token = '';\r\n\t\tstate.refreshToken = '';\r\n\t\tlocalStorage.removeItem('userId');\r\n\t\tlocalStorage.removeItem('token');\r\n\t\tlocalStorage.removeItem('refreshToken');\r\n\t},\r\n};\r\n\r\n/**\r\n * Instructions for working with getters\r\n * link https://vuex.vuejs.org/api/#getters\r\n */\r\nconst getters = {\r\n\tisAuthenticated: (state) => !!state.token,\r\n\tauthStatus: (state) => state.status,\r\n\tisLoading: (state) => state.status === 'loading',\r\n};\r\n\r\nconst state = {\r\n\ttoken: localStorage.getItem('token') || '',\r\n\trefreshToken: localStorage.getItem('refreshToken') || '',\r\n\tstatus: '',\r\n};\r\n\r\nexport default {\r\n\t// namespaced false. To make it available throughout the project without special pointers.\r\n\tnamespaced: false,\r\n\tstate,\r\n\tgetters,\r\n\tactions,\r\n\tmutations,\r\n};\r\n"]}]}