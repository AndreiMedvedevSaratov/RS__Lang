{"remainingRequest":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\babel-loader\\lib\\index.js!F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\eslint-loader\\index.js??ref--12-0!F:\\RS\\Repositaries\\RS-Lang\\rslang\\src\\store\\auth.js","dependencies":[{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\src\\store\\auth.js","mtime":1594751846320},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1JTL1JlcG9zaXRhcmllcy9SUy1MYW5nL3JzbGFuZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Ci8qKiBJbnN0cnVjdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBhY3Rpb25zDQogKiBsaW5rIGh0dHBzOi8vdnVleC52dWVqcy5vcmcvYXBpLyNhY3Rpb25zDQogKi8KCnZhciBhY3Rpb25zID0gewogIEFVVEhfUkVRVUVTVDogZnVuY3Rpb24gQVVUSF9SRVFVRVNUKF9yZWYpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByb290U3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2g7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICByb290U3RhdGUgPSBfcmVmLnJvb3RTdGF0ZSwgY29tbWl0ID0gX3JlZi5jb21taXQsIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgICAgICAgICBjb21taXQoJ0FVVEhfUkVRVUVTVCcpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChyb290U3RhdGUuYXBwLnNlcnZlciwgIi9zaWduaW4iKSwgewogICAgICAgICAgICAgICAgZW1haWw6IHJvb3RTdGF0ZS51c2VyLnByb2ZpbGUuZW1haWwsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogcm9vdFN0YXRlLnVzZXIucHJvZmlsZS5wYXNzd29yZAogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgnQVVUSF9EQVRBJywgdXNlci5kYXRhKTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCd1c2VyL1VTRVJfUkVRVUVTVCcsIHVzZXIuZGF0YS51c2VySWQsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ0FVVEhfU1VDQ0VTUycpOwogICAgICAgICAgICAgICAgY29tbWl0KCdBUFBfU1RBVFVTJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICBjb21taXQoJ0FVVEhfRVJST1InLCBlcnIucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0FMRVJUJywgewogICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgIGRhdGE6IGVyci5yZXNwb25zZS5kYXRhCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIEFVVEhfUkVGUkVTSF9UT0tFTjogZnVuY3Rpb24gQVVUSF9SRUZSRVNIX1RPS0VOKF9yZWYyKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIHN0YXRlLCByb290U3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2g7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZSwgcm9vdFN0YXRlID0gX3JlZjIucm9vdFN0YXRlLCBjb21taXQgPSBfcmVmMi5jb21taXQsIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgY29tbWl0KCdBVVRIX1JFUVVFU1QnKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQocm9vdFN0YXRlLmFwcC5zZXJ2ZXIsICIvdXNlcnMvIikuY29uY2F0KHJvb3RTdGF0ZS51c2VyLnByb2ZpbGUudXNlcklkLCAiL3Rva2VucyIpLCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoc3RhdGUucmVmcmVzaFRva2VuKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIuZGF0YSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ0FVVEhfREFUQScsIHVzZXIuZGF0YSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ0FVVEhfU1VDQ0VTUycpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdBTEVSVCcsIHsKICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICBkYXRhOiBlcnIucmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIEFVVEhfTE9HT1VUOiBmdW5jdGlvbiBBVVRIX0xPR09VVChfcmVmMykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBjb21taXQoJ0FQUF9TVEFUVVMnLCAnc3VjY2VzcycpOwogICAgICBjb21taXQoJ0FVVEhfTE9HT1VUJyk7CiAgICAgIGNvbW1pdCgnQVVUSF9TVUNDRVNTJyk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0KfTsKLyoqDQogKiBJbnN0cnVjdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBtdXRhdGlvbnMNCiAqIGxpbmsgaHR0cHM6Ly92dWV4LnZ1ZWpzLm9yZy9ndWlkZS9tdXRhdGlvbnMuaHRtbA0KICovCgp2YXIgbXV0YXRpb25zID0gewogIEFVVEhfUkVRVUVTVDogZnVuY3Rpb24gQVVUSF9SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSAnbG9hZGluZyc7CiAgfSwKICBBVVRIX1NVQ0NFU1M6IGZ1bmN0aW9uIEFVVEhfU1VDQ0VTUyhzdGF0ZSkgewogICAgc3RhdGUuc3RhdHVzID0gJ3N1Y2Nlc3MnOwogIH0sCiAgQVVUSF9EQVRBOiBmdW5jdGlvbiBBVVRIX0RBVEEoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnRva2VuID0gdXNlci50b2tlbjsKICAgIHN0YXRlLnJlZnJlc2hUb2tlbiA9IHVzZXIucmVmcmVzaFRva2VuOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdXNlci50b2tlbik7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVmcmVzaFRva2VuJywgdXNlci5yZWZyZXNoVG9rZW4pOwogICAgaWYgKHVzZXIudXNlcklkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgdXNlci51c2VySWQpOwogICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24gPSB7CiAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodXNlci50b2tlbikKICAgIH07CiAgfSwKICBBVVRIX0VSUk9SOiBmdW5jdGlvbiBBVVRIX0VSUk9SKHN0YXRlKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSAnZXJyb3InOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaFRva2VuJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcklkJyk7CiAgfSwKICBBVVRIX0xPR09VVDogZnVuY3Rpb24gQVVUSF9MT0dPVVQoc3RhdGUpIHsKICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICBzdGF0ZS5yZWZyZXNoVG9rZW4gPSAnJzsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySWQnKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JlZnJlc2hUb2tlbicpOwogIH0KfTsKLyoqDQogKiBJbnN0cnVjdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBnZXR0ZXJzDQogKiBsaW5rIGh0dHBzOi8vdnVleC52dWVqcy5vcmcvYXBpLyNnZXR0ZXJzDQogKi8KCnZhciBnZXR0ZXJzID0gewogIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHN0YXRlKSB7CiAgICByZXR1cm4gISFzdGF0ZS50b2tlbjsKICB9LAogIGF1dGhTdGF0dXM6IGZ1bmN0aW9uIGF1dGhTdGF0dXMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5zdGF0dXM7CiAgfSwKICBpc0xvYWRpbmc6IGZ1bmN0aW9uIGlzTG9hZGluZyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnN0YXR1cyA9PT0gJ2xvYWRpbmcnOwogIH0KfTsKdmFyIHN0YXRlID0gewogIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCAnJywKICByZWZyZXNoVG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWZyZXNoVG9rZW4nKSB8fCAnJywKICBzdGF0dXM6ICcnCn07CmV4cG9ydCBkZWZhdWx0IHsKICAvLyBuYW1lc3BhY2VkIGZhbHNlLiBUbyBtYWtlIGl0IGF2YWlsYWJsZSB0aHJvdWdob3V0IHRoZSBwcm9qZWN0IHdpdGhvdXQgc3BlY2lhbCBwb2ludGVycy4KICBuYW1lc3BhY2VkOiBmYWxzZSwKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["F:/RS/Repositaries/RS-Lang/rslang/src/store/auth.js"],"names":["axios","actions","AUTH_REQUEST","rootState","commit","dispatch","post","app","server","email","user","profile","password","then","data","userId","root","catch","err","response","status","AUTH_REFRESH_TOKEN","state","get","headers","Authorization","refreshToken","console","log","AUTH_LOGOUT","Promise","resolve","mutations","AUTH_SUCCESS","AUTH_DATA","token","localStorage","setItem","defaults","common","AUTH_ERROR","removeItem","getters","isAuthenticated","authStatus","isLoading","getItem","namespaced"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\n/** Instructions for working with actions\r\n * link https://vuex.vuejs.org/api/#actions\r\n */\r\nconst actions = {\r\n\tasync AUTH_REQUEST({\r\n\t\trootState, commit, dispatch,\r\n\t}) {\r\n\t\tcommit('AUTH_REQUEST');\r\n\t\tawait axios.post(`${rootState.app.server}/signin`, {\r\n\t\t\temail: rootState.user.profile.email,\r\n\t\t\tpassword: rootState.user.profile.password,\r\n\t\t}).then((user) => {\r\n\t\t\tcommit('AUTH_DATA', user.data);\r\n\t\t\tdispatch('user/USER_REQUEST', user.data.userId, { root: true });\r\n\t\t\tcommit('AUTH_SUCCESS');\r\n\t\t\tcommit('APP_STATUS', 'success');\r\n\t\t}).catch((err) => {\r\n\t\t\tcommit('AUTH_ERROR', err.response);\r\n\t\t\tdispatch('ALERT', { status: 'error', data: err.response.data });\r\n\t\t});\r\n\t},\r\n\tasync AUTH_REFRESH_TOKEN({\r\n\t\tstate, rootState, commit, dispatch,\r\n\t}) {\r\n\t\tcommit('AUTH_REQUEST');\r\n\r\n\t\tawait axios.get(`${rootState.app.server}/users/${rootState.user.profile.userId}/tokens`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${state.refreshToken}`,\r\n\t\t\t},\r\n\t\t}).then((user) => {\r\n\t\t\tconsole.log(user.data);\r\n\t\t\tcommit('AUTH_DATA', user.data);\r\n\t\t\tcommit('AUTH_SUCCESS');\r\n\t\t}).catch((err) => {\r\n\t\t\tdispatch('ALERT', { status: 'error', data: err.response.data });\r\n\t\t});\r\n\t},\r\n\tAUTH_LOGOUT({ commit }) {\r\n\t\treturn new Promise(((resolve) => {\r\n\t\t\tcommit('APP_STATUS', 'success');\r\n\t\t\tcommit('AUTH_LOGOUT');\r\n\t\t\tcommit('AUTH_SUCCESS');\r\n\t\t\tresolve();\r\n\t\t}));\r\n\t},\r\n\r\n};\r\n\r\n/**\r\n * Instructions for working with mutations\r\n * link https://vuex.vuejs.org/guide/mutations.html\r\n */\r\nconst mutations = {\r\n\tAUTH_REQUEST: (state) => {\r\n\t\tstate.status = 'loading';\r\n\t},\r\n\tAUTH_SUCCESS: (state) => {\r\n\t\tstate.status = 'success';\r\n\t},\r\n\tAUTH_DATA: (state, user) => {\r\n\t\tstate.token = user.token;\r\n\t\tstate.refreshToken = user.refreshToken;\r\n\t\tlocalStorage.setItem('token', user.token);\r\n\t\tlocalStorage.setItem('refreshToken', user.refreshToken);\r\n\t\tif (user.userId) localStorage.setItem('userId', user.userId);\r\n\t\taxios.defaults.headers.common = { Authorization: `Bearer ${user.token}` };\r\n\t},\r\n\tAUTH_ERROR: (state) => {\r\n\t\tstate.status = 'error';\r\n\t\tlocalStorage.removeItem('token');\r\n\t\tlocalStorage.removeItem('refreshToken');\r\n\t\tlocalStorage.removeItem('userId');\r\n\t},\r\n\tAUTH_LOGOUT: (state) => {\r\n\t\tstate.token = '';\r\n\t\tstate.refreshToken = '';\r\n\t\tlocalStorage.removeItem('userId');\r\n\t\tlocalStorage.removeItem('token');\r\n\t\tlocalStorage.removeItem('refreshToken');\r\n\t},\r\n};\r\n\r\n/**\r\n * Instructions for working with getters\r\n * link https://vuex.vuejs.org/api/#getters\r\n */\r\nconst getters = {\r\n\tisAuthenticated: (state) => !!state.token,\r\n\tauthStatus: (state) => state.status,\r\n\tisLoading: (state) => state.status === 'loading',\r\n};\r\n\r\nconst state = {\r\n\ttoken: localStorage.getItem('token') || '',\r\n\trefreshToken: localStorage.getItem('refreshToken') || '',\r\n\tstatus: '',\r\n};\r\n\r\nexport default {\r\n\t// namespaced false. To make it available throughout the project without special pointers.\r\n\tnamespaced: false,\r\n\tstate,\r\n\tgetters,\r\n\tactions,\r\n\tmutations,\r\n};\r\n"]}]}