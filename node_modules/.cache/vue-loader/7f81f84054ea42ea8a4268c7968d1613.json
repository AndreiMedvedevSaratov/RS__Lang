{"remainingRequest":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\RS\\Repositaries\\RS-Lang\\rslang\\src\\components\\GameSpeakit.vue?vue&type=style&index=0&id=1cfbe8ab&lang=scss&scoped=true&","dependencies":[{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\src\\components\\GameSpeakit.vue","mtime":1595008878908},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmdhbWUgew0KICBoZWlnaHQ6IDEwMCU7DQogIHBhZGRpbmc6IDAgMTUlOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NkOGNjOw0KICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KDQogIHAgew0KICAgIG1hcmdpbjogMDsNCiAgfQ0KDQogIC5oZWFkZXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICM5MDlmOGQ7DQogICAgaGVpZ2h0OiAxMCU7DQogIH0NCiAgLm1haW4gew0KICAgIGhlaWdodDogODAlOw0KDQogICAgJl9faW1hZ2Ugew0KICAgICAgcGFkZGluZzogMiUgMDsNCiAgICAgIG1heC13aWR0aDogMzAwcHg7DQogICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgICAgLy8gICBoZWlnaHQ6IDQwJTsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgfQ0KICAgIC5jYXJkLXBhbm5lbCB7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgZmxleC13cmFwOiB3cmFwOw0KICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTRhZWEyOw0KICAgICAgcGFkZGluZzogNXB4Ow0KICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgIC8vIGhlaWdodDogY2FsYygzMCUgLSAxMHB4KTsNCiAgICAgIC5jYXJkIHsNCiAgICAgICAgd2lkdGg6IDE1MHB4Ow0KICAgICAgICBoZWlnaHQ6IDcycHg7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Q4YzlkODsNCiAgICAgICAgYm9yZGVyOiAjZGFkYWRhIHNvbGlkIDFweDsNCg0KICAgICAgICAmX19pY29uIHsNCiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmJiMGJiOw0KICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICAgIHdpZHRoOiAzMHB4Ow0KICAgICAgICAgIGhlaWdodDogMzBweDsNCiAgICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJy4uL2Fzc2V0cy9pbWcvc3BlYWtlci5zdmcnKSBuby1yZXBlYXQgY2VudGVyIGNvbnRlbnQtYm94Ow0KICAgICAgICB9DQoNCiAgICAgICAgJl9faW5mbyB7DQogICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgIGZsZXg6IDM7DQogICAgICAgIH0NCg0KICAgICAgICAmOmhvdmVyIHsNCiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmFiMWJhOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQogIC5idXR0b25zUm93IHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmJjOWI4Ow0KICAgIGhlaWdodDogMTAlOw0KICB9DQp9DQo="},{"version":3,"sources":["GameSpeakit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2MA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GameSpeakit.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"pug\">\r\n\tdiv( class=\"game purple lighten-5\" )\r\n\r\n\t\tdiv( class=\"main\" )\r\n\t\t\tv-img(\r\n\t\t\t\tclass=\"main__image\"\r\n\t\t\t\t:src=\"getImg\"\r\n\t\t\t\tcontain\r\n\t\t\t)\r\n\t\t\tv-row\r\n\t\t\t\tv-col\r\n\t\t\t\t\tv-btn(\r\n\t\t\t\t\t\t@click=\"speak\"\r\n\t\t\t\t\t\tid=\"btn\"\r\n\t\t\t\t\t\traised\r\n\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t:disabled=\"gameStatus\"\r\n\t\t\t\t\t) Start Game\r\n\t\t\t\tv-col\r\n\t\t\t\t\tv-btn(\r\n\t\t\t\t\t\t@click=\"stop_speak\"\r\n\t\t\t\t\t\tid=\"btn\"\r\n\t\t\t\t\t\traised\r\n\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t:disabled=\"!gameStatus\"\r\n\t\t\t\t\t) Stop Game\r\n\r\n\t\t\tdiv( v-show=\"gameStatus\" ) You said:\r\n\t\t\t\tspan( class='speech' )\r\n\r\n\t\t\tdiv( class=\"card-pannel purple lighten-5\" )\r\n\t\t\t\tdiv(\r\n\t\t\t\t\tclass=\"card ma-1 purple darken-1 white--text\"\r\n\t\t\t\t\tv-for=\"(item, i) in isWords\"\r\n\t\t\t\t\t:key=\"i\"\r\n\t\t\t\t\t@click=\"gameAction({ image: isUrlFiles+item.image, audio: isUrlFiles+item.audio })\"\r\n\t\t\t\t\tv-bind:id=\"item.word.toLowerCase()\"\r\n\t\t\t\t)\r\n\t\t\t\t\tspan( class=\"card__icon\" )\r\n\t\t\t\t\tdiv( class=\"card__info\" )\r\n\t\t\t\t\t\tp( class=\"card__info__word\" ) {{ item.word }}\r\n\t\t\t\t\t\tp( class=\"card__info__transcription\" ) {{ item.transcription }}\r\n\t\t\t\t\t\tp( class=\"card__info__translation\" ) {{ item.wordTranslate }}\r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters, mapMutations } from 'vuex';\r\n\r\n/**\r\n * API Vue\r\n * https://ru.vuejs.org/v2/api/index.html\r\n */\r\nexport default {\r\n\tname: 'SpeakIt',\r\n\tdata: () => ({\r\n\t\tstatus: '',\r\n\t\tcount: [],\r\n\t\tgameStatus: false,\r\n\t\tgameLevel: 0,\r\n\t\trecognition: '',\r\n\t\timg: null,\r\n\t\tcount_error: 0,\r\n\t}),\r\n\tcomputed: {\r\n\t\t...mapGetters({\r\n\t\t\tisWords: 'getWords',\r\n\t\t\tisUrlFiles: 'getUrlFiles',\r\n\t\t\tUrlImage: 'getUrlImage',\r\n\t\t}),\r\n\t\tgetWordsArray() {\r\n\t\t\treturn this.isWords.map((item) => item.word.toLowerCase());\r\n\t\t},\r\n\t\tgetImageArray() {\r\n\t\t\treturn this.isWords.map((item) => item.image);\r\n\t\t},\r\n\t\tgetImg() {\r\n\t\t\treturn this.img ? this.img : this.UrlImage;\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getWords({\r\n\t\t\tpage: 0,\r\n\t\t\tfilter: {\r\n\t\t\t\t$or: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuserWord: { $ne: null },\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuserWord: null,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t});\r\n\t\tthis.appHtml([\r\n\t\t\t// свернем меню\r\n\t\t\t{ one: 'main', key: 'drawer', value: false },\r\n\t\t\t// Уберем хлебные крошки\r\n\t\t\t{ one: 'main', key: 'breadcrumbs', value: false },\r\n\t\t\t// Изменим цвет header по таблице цветов\r\n\t\t\t// https://vuetifyjs.com/en/styles/colors/#sass-color-pack\r\n\t\t\t{ one: 'main', key: 'background', value: 'purple lighten-5' },\r\n\t\t\t{ one: 'app', key: 'background', value: 'purple lighten-5' },\r\n\t\t]);\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\t// Перед закрытием страницы возращаем настройки обратно\r\n\t\tthis.appHtml([\r\n\t\t\t{ one: 'main', key: 'drawer', value: true },\r\n\t\t\t{ one: 'main', key: 'breadcrumbs', value: true },\r\n\t\t\t{ one: 'main', key: 'background', value: '' },\r\n\t\t\t{ one: 'app', key: 'background', value: 'grey lighten-5' },\r\n\t\t]);\r\n\t},\r\n\tmethods: {\r\n\t\t...mapMutations({\r\n\t\t\tappHtml: 'EDIT_HTML',\r\n\t\t}),\r\n\t\t...mapActions({\r\n\t\t\tgetWords: 'APP_GET_USER_WORDS_AGGREGATED',\r\n\t\t\talert: 'ALERT',\r\n\t\t\twordProcessing: 'APP_WORD_PROCESSING',\r\n\t\t}),\r\n\t\tgameAction(data) {\r\n\t\t\tif (!this.gameStatus) this.setImgAndAudio({ image: data.image, audio: data.audio });\r\n\t\t},\r\n\t\tspeak() {\r\n\t\t\tthis.gameStatus = true;\r\n\t\t\tconst SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n\t\t\tthis.recognition = new SpeechRecognition();\r\n\t\t\tthis.recognition.lang = 'en-US';\r\n\t\t\tthis.recognition.continuos = false;\r\n\t\t\tthis.recognition.interimResults = false;\r\n\t\t\tthis.recognition.maxAlternatives = 1;\r\n\t\t\tthis.recognition.onerror = (event) => {\r\n\t\t\t\tconsole.log(`It's error! ${event.error}`);\r\n\t\t\t\tthis.count_error += 1;\r\n\t\t\t\tif (this.count_error > 100) this.recognition.onend = () => this.recognition.stop();\r\n\t\t\t};\r\n\t\t\tthis.recognition.onend = () => this.recognition.start();\r\n\r\n\t\t\tthis.recognition.addEventListener('result', (event) => {\r\n\t\t\t\tconst last = event.results.length - 1;\r\n\t\t\t\tconst sayWord = event.results[last][0].transcript.toLowerCase();\r\n\t\t\t\tconst p = document.querySelector('.speech');\r\n\t\t\t\tp.textContent = sayWord;\r\n\r\n\t\t\t\tif (this.getWordsArray.includes(sayWord)) {\r\n\t\t\t\t\tdocument.querySelector('.main__image').src = `${this.isUrlFiles}${this.getImageArray[this.getWordsArray.indexOf(sayWord)]}`;\r\n\t\t\t\t\tdocument.getElementById(sayWord).style.opacity = '0.5';\r\n\t\t\t\t\tif (!this.count.includes(sayWord)) {\r\n\t\t\t\t\t\tthis.count.push(sayWord);\r\n\t\t\t\t\t\tconst getCorrectWord = this.getWordsArray.find((item) => item.word === sayWord);\r\n\t\t\t\t\t\tif (getCorrectWord !== undefined) this.wordProcessing({ word: getCorrectWord, right: true, offDate: true });\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.count.length === 20) {\r\n\t\t\t\t\t\tconst cards = document.querySelectorAll('.card');\r\n\t\t\t\t\t\tfor (let i = 0; i < cards.length; i += 1) {\r\n\t\t\t\t\t\t\tcards[i].style.opacity = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// document.querySelectorAll('.card').forEach((item) => {\r\n\t\t\t\t\t\t// \t// eslint-disable-next-line no-param-reassign\r\n\t\t\t\t\t\t// \titem.style.opacity = '1';\r\n\t\t\t\t\t\t// \treturn item;\r\n\t\t\t\t\t\t// });\r\n\t\t\t\t\t\tthis.alert({ data: 'Youre win, good job! Your skill is pretty high' });\r\n\t\t\t\t\t\tthis.gameLevel += 1;\r\n\t\t\t\t\t\tthis.getWords({\r\n\t\t\t\t\t\t\tpage: this.gameLevel,\r\n\t\t\t\t\t\t\tfilter: {\r\n\t\t\t\t\t\t\t\t$or: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tuserWord: { $ne: null },\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tuserWord: null,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}, { root: true });\r\n\t\t\t\t\t\tthis.recognition.onend = () => this.recognition.stop();\r\n\t\t\t\t\t\tthis.count.length = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.recognition.start();\r\n\t\t},\r\n\t\tstop_speak() {\r\n\t\t\tthis.gameStatus = false;\r\n\t\t\tthis.recognition.onend = () => this.recognition.stop();\r\n\t\t\tthis.count.length = 0;\r\n\t\t},\r\n\t\tsetImgAndAudio(payload) {\r\n\t\t\tthis.img = payload.image;\r\n\t\t\tconst audio = new Audio(payload.audio);\r\n\t\t\taudio.play();\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.game {\r\n  height: 100%;\r\n  padding: 0 15%;\r\n  background-color: #ccd8cc;\r\n  box-sizing: border-box;\r\n\r\n  p {\r\n    margin: 0;\r\n  }\r\n\r\n  .header {\r\n    background-color: #909f8d;\r\n    height: 10%;\r\n  }\r\n  .main {\r\n    height: 80%;\r\n\r\n    &__image {\r\n      padding: 2% 0;\r\n      max-width: 300px;\r\n      display: block;\r\n      margin: 0 auto;\r\n      //   height: 40%;\r\n      align-items: center;\r\n    }\r\n    .card-pannel {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: space-around;\r\n      background-color: #a4aea2;\r\n      padding: 5px;\r\n      box-sizing: border-box;\r\n      // height: calc(30% - 10px);\r\n      .card {\r\n        width: 150px;\r\n        height: 72px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        background-color: #d8c9d8;\r\n        border: #dadada solid 1px;\r\n\r\n        &__icon {\r\n          background-color: #bbb0bb;\r\n          text-align: center;\r\n          flex: 1;\r\n          width: 30px;\r\n          height: 30px;\r\n          background: url('../assets/img/speaker.svg') no-repeat center content-box;\r\n        }\r\n\r\n        &__info {\r\n          text-align: center;\r\n          flex: 3;\r\n        }\r\n\r\n        &:hover {\r\n          background-color: #bab1ba;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .buttonsRow {\r\n    background-color: #bbc9b8;\r\n    height: 10%;\r\n  }\r\n}\r\n</style>\r\n"]}]}