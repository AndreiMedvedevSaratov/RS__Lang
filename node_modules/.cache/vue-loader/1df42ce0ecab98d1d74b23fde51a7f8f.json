{"remainingRequest":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\RS\\Repositaries\\RS-Lang\\rslang\\src\\components\\statGraph.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\src\\components\\statGraph.vue","mtime":1595008878921},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\RS\\Repositaries\\RS-Lang\\rslang\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyA6d2lkdGg9ImdyYXBoV2lkdGgiDQovLyA6aGVpZ2h0PSJncmFwaEhlaWdodCINCmV4cG9ydCBkZWZhdWx0IHsNCgluYW1lOiAnU3RhdEdyYXBoJywNCgljb21wb25lbnRzOiB7fSwNCglkaXJlY3RpdmVzOiB7fSwNCgltaXhpbnM6IFtdLA0KCXByb3BzOiB7DQoJCXN0YXRpc3RpY3M6IHsNCgkJCXR5cGU6IEFycmF5LA0KCQkJcmVxdWlyZWQ6IHRydWUsDQoJCX0sDQoJCWdyYXBoV2lkdGg6IHsNCgkJCXR5cGU6IE51bWJlciwNCgkJCWRlZmF1bHQ6IDUwMCwNCgkJfSwNCgkJZ3JhcGhIZWlnaHQ6IHsNCgkJCXR5cGU6IE51bWJlciwNCgkJCWRlZmF1bHQ6IDMwMCwNCgkJfSwNCgl9LA0KCWRhdGE6ICgpID0+ICh7fSksDQoJY29tcHV0ZWQ6IHt9LA0KCXdhdGNoOiB7fSwNCgljcmVhdGVkKCkge30sDQoJbW91bnRlZCgpIHsNCgkJdGhpcy5jcmVhdGVHcmFwaCh0aGlzLnN0YXRpc3RpY3MpOw0KCX0sDQoJYmVmb3JlVXBkYXRlKCkgew0KCQl0aGlzLmNyZWF0ZUdyYXBoKHRoaXMuc3RhdGlzdGljcyk7DQoJfSwNCgl1cGRhdGVkKCkge30sDQoJbWV0aG9kczogew0KCQljcmVhdGVHcmFwaChzdGF0RGF0YSkgew0KCQkJY29uc3QgeFBhZGRpbmcgPSAzMDsNCgkJCWNvbnN0IHlQYWRkaW5nID0gMzA7DQoJCQljb25zdCBncmFwaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFwaCcpOw0KDQoJCQkvLyBSZXR1cm5zIHRoZSBtYXggd29yZHMgdmFsdWUgaW4gb3VyIGRhdGEgbGlzdA0KCQkJZnVuY3Rpb24gZ2V0TWF4V29yZHMoYXJyKSB7DQoJCQkJbGV0IG1heCA9IDA7DQoNCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkgew0KCQkJCQlpZiAoYXJyW2ldLndvcmRzID4gbWF4KSB7DQoJCQkJCQltYXggPSBhcnJbaV0ud29yZHM7DQoJCQkJCX0NCgkJCQl9DQoNCgkJCQltYXggKz0gMTAgLSAobWF4ICUgMTApOw0KCQkJCXJldHVybiBtYXg7DQoJCQl9DQoNCgkJCWZ1bmN0aW9uIGdldExhc3RXZWVrKGFycikgew0KCQkJCXJldHVybiBhcnIuc2xpY2UoLTcpOw0KCQkJCS8vIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0pTT04oKS5yZXBsYWNlKC9ULisvLCAnJyk7DQoJCQkJLy8gY29uc29sZS5sb2codG9kYXkpOw0KCQkJfQ0KDQoJCQkvLyBSZXR1cm4gdGhlIHggcGl4ZWwgZm9yIGEgZ3JhcGggcG9pbnQNCgkJCWZ1bmN0aW9uIGdldFhQaXhlbChhcnIsIHZhbCkgew0KCQkJCXJldHVybiAoKGdyYXBoLndpZHRoIC0geFBhZGRpbmcpIC8gYXJyLmxlbmd0aCkgKiB2YWwgKyB4UGFkZGluZyAqIDEuMjU7DQoJCQl9DQoNCgkJCS8vIFJldHVybiB0aGUgeSBwaXhlbCBmb3IgYSBncmFwaCBwb2ludA0KCQkJZnVuY3Rpb24gZ2V0WVBpeGVsKGFyciwgdmFsKSB7DQoJCQkJcmV0dXJuIGdyYXBoLmhlaWdodCAtICgoZ3JhcGguaGVpZ2h0IC0geVBhZGRpbmcpIC8gZ2V0TWF4V29yZHMoYXJyKSkgKiB2YWwgLSB5UGFkZGluZzsNCgkJCX0NCg0KCQkJY29uc3QgYyA9IGdyYXBoLmdldENvbnRleHQoJzJkJyk7DQoJCQljb25zdCBkYXRhID0gZ2V0TGFzdFdlZWsoc3RhdERhdGEpOw0KDQoJCQkvLyBiYXNpYyBwYXJhbXMNCgkJCWMubGluZVdpZHRoID0gMjsNCgkJCWMuc3Ryb2tlU3R5bGUgPSAnIzMzMyc7DQoJCQljLmZvbnQgPSAnaXRhbGljIDhwdCBzYW5zLXNlcmlmJzsNCgkJCWMudGV4dEFsaWduID0gJ2NlbnRlcic7DQoNCgkJCS8vIERyYXcgdGhlIGF4aXNlcw0KCQkJYy5iZWdpblBhdGgoKTsNCgkJCWMubW92ZVRvKHhQYWRkaW5nLCAwKTsNCgkJCWMubGluZVRvKHhQYWRkaW5nLCBncmFwaC5oZWlnaHQgLSB5UGFkZGluZyk7DQoJCQljLmxpbmVUbyhncmFwaC53aWR0aCwgZ3JhcGguaGVpZ2h0IC0geVBhZGRpbmcpOw0KCQkJYy5zdHJva2UoKTsNCg0KCQkJLy8gRHJhdyB0aGUgWCB2YWx1ZSB0ZXh0cw0KCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAxKSB7DQoJCQkJLy8gdXNlcyBkYXRhLlgNCgkJCQljLmZpbGxUZXh0KGRhdGFbaV0uZGF0ZS5zbGljZSgtMiksIGdldFhQaXhlbChkYXRhLCBpKSwgZ3JhcGguaGVpZ2h0IC0geVBhZGRpbmcgKyAyMCk7DQoJCQl9DQoNCgkJCS8vIERyYXcgdGhlIFkgdmFsdWUgdGV4dHMNCgkJCWMudGV4dEFsaWduID0gJ3JpZ2h0JzsNCgkJCWMudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7DQoNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgZ2V0TWF4V29yZHMoZGF0YSk7IGkgKz0gMTApIHsNCgkJCQljLmZpbGxUZXh0KGksIHhQYWRkaW5nIC0gMTAsIGdldFlQaXhlbChkYXRhLCBpKSk7DQoJCQl9DQoJCQljLnN0cm9rZVN0eWxlID0gJyNmMDAnOw0KDQoJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmUNCgkJCWRyYXdMaW5lKCd3b3JkcycsICcjZjAwJyk7DQoJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmUNCgkJCWRyYXdMaW5lKCdzdWNjZXNzV29yZCcsICcjMDBmZmZmZmYnKTsNCgkJCWZ1bmN0aW9uIGRyYXdMaW5lKGZpZWxkLCBjb2xvcikgew0KCQkJCS8vIERyYXcgdGhlIGxpbmUgZ3JhcGgNCgkJCQljLmJlZ2luUGF0aCgpOw0KCQkJCWMuc3Ryb2tlU3R5bGUgPSBjb2xvcjsNCgkJCQljLm1vdmVUbyhnZXRYUGl4ZWwoZGF0YSwgMCksIGdldFlQaXhlbChkYXRhLCBkYXRhWzBdW2ZpZWxkXSkpOw0KCQkJCWZvciAobGV0IGkgPSAxOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMSkgew0KCQkJCQljLmxpbmVUbyhnZXRYUGl4ZWwoZGF0YSwgaSksIGdldFlQaXhlbChkYXRhLCBkYXRhW2ldW2ZpZWxkXSkpOw0KCQkJCX0NCgkJCQljLnN0cm9rZSgpOw0KDQoJCQkJLy8gRHJhdyB0aGUgZG90cw0KCQkJCWMuZmlsbFN0eWxlID0gJyMzMzMnOw0KDQoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAxKSB7DQoJCQkJCWMuYmVnaW5QYXRoKCk7DQoJCQkJCWMuYXJjKGdldFhQaXhlbChkYXRhLCBpKSwgZ2V0WVBpeGVsKGRhdGEsIGRhdGFbaV1bZmllbGRdKSwgNCwgMCwgTWF0aC5QSSAqIDIsIHRydWUpOw0KCQkJCQljLmZpbGwoKTsNCgkJCQl9DQoJCQl9DQoJCX0sDQoJfSwNCn07DQo="},{"version":3,"sources":["statGraph.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"statGraph.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"pug\">\r\n\tcanvas(\r\n\t\tid='graph'\r\n\t\twidth=\"500\"\r\n\t\theight=\"300\"\r\n\t)\r\n</template>\r\n\r\n<script>\r\n// :width=\"graphWidth\"\r\n// :height=\"graphHeight\"\r\nexport default {\r\n\tname: 'StatGraph',\r\n\tcomponents: {},\r\n\tdirectives: {},\r\n\tmixins: [],\r\n\tprops: {\r\n\t\tstatistics: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tgraphWidth: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 500,\r\n\t\t},\r\n\t\tgraphHeight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 300,\r\n\t\t},\r\n\t},\r\n\tdata: () => ({}),\r\n\tcomputed: {},\r\n\twatch: {},\r\n\tcreated() {},\r\n\tmounted() {\r\n\t\tthis.createGraph(this.statistics);\r\n\t},\r\n\tbeforeUpdate() {\r\n\t\tthis.createGraph(this.statistics);\r\n\t},\r\n\tupdated() {},\r\n\tmethods: {\r\n\t\tcreateGraph(statData) {\r\n\t\t\tconst xPadding = 30;\r\n\t\t\tconst yPadding = 30;\r\n\t\t\tconst graph = document.getElementById('graph');\r\n\r\n\t\t\t// Returns the max words value in our data list\r\n\t\t\tfunction getMaxWords(arr) {\r\n\t\t\t\tlet max = 0;\r\n\r\n\t\t\t\tfor (let i = 0; i < arr.length; i += 1) {\r\n\t\t\t\t\tif (arr[i].words > max) {\r\n\t\t\t\t\t\tmax = arr[i].words;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmax += 10 - (max % 10);\r\n\t\t\t\treturn max;\r\n\t\t\t}\r\n\r\n\t\t\tfunction getLastWeek(arr) {\r\n\t\t\t\treturn arr.slice(-7);\r\n\t\t\t\t// const today = new Date().toJSON().replace(/T.+/, '');\r\n\t\t\t\t// console.log(today);\r\n\t\t\t}\r\n\r\n\t\t\t// Return the x pixel for a graph point\r\n\t\t\tfunction getXPixel(arr, val) {\r\n\t\t\t\treturn ((graph.width - xPadding) / arr.length) * val + xPadding * 1.25;\r\n\t\t\t}\r\n\r\n\t\t\t// Return the y pixel for a graph point\r\n\t\t\tfunction getYPixel(arr, val) {\r\n\t\t\t\treturn graph.height - ((graph.height - yPadding) / getMaxWords(arr)) * val - yPadding;\r\n\t\t\t}\r\n\r\n\t\t\tconst c = graph.getContext('2d');\r\n\t\t\tconst data = getLastWeek(statData);\r\n\r\n\t\t\t// basic params\r\n\t\t\tc.lineWidth = 2;\r\n\t\t\tc.strokeStyle = '#333';\r\n\t\t\tc.font = 'italic 8pt sans-serif';\r\n\t\t\tc.textAlign = 'center';\r\n\r\n\t\t\t// Draw the axises\r\n\t\t\tc.beginPath();\r\n\t\t\tc.moveTo(xPadding, 0);\r\n\t\t\tc.lineTo(xPadding, graph.height - yPadding);\r\n\t\t\tc.lineTo(graph.width, graph.height - yPadding);\r\n\t\t\tc.stroke();\r\n\r\n\t\t\t// Draw the X value texts\r\n\t\t\tfor (let i = 0; i < data.length; i += 1) {\r\n\t\t\t\t// uses data.X\r\n\t\t\t\tc.fillText(data[i].date.slice(-2), getXPixel(data, i), graph.height - yPadding + 20);\r\n\t\t\t}\r\n\r\n\t\t\t// Draw the Y value texts\r\n\t\t\tc.textAlign = 'right';\r\n\t\t\tc.textBaseline = 'middle';\r\n\r\n\t\t\tfor (let i = 0; i < getMaxWords(data); i += 10) {\r\n\t\t\t\tc.fillText(i, xPadding - 10, getYPixel(data, i));\r\n\t\t\t}\r\n\t\t\tc.strokeStyle = '#f00';\r\n\r\n\t\t\t// eslint-disable-next-line no-use-before-define\r\n\t\t\tdrawLine('words', '#f00');\r\n\t\t\t// eslint-disable-next-line no-use-before-define\r\n\t\t\tdrawLine('successWord', '#00ffffff');\r\n\t\t\tfunction drawLine(field, color) {\r\n\t\t\t\t// Draw the line graph\r\n\t\t\t\tc.beginPath();\r\n\t\t\t\tc.strokeStyle = color;\r\n\t\t\t\tc.moveTo(getXPixel(data, 0), getYPixel(data, data[0][field]));\r\n\t\t\t\tfor (let i = 1; i < data.length; i += 1) {\r\n\t\t\t\t\tc.lineTo(getXPixel(data, i), getYPixel(data, data[i][field]));\r\n\t\t\t\t}\r\n\t\t\t\tc.stroke();\r\n\r\n\t\t\t\t// Draw the dots\r\n\t\t\t\tc.fillStyle = '#333';\r\n\r\n\t\t\t\tfor (let i = 0; i < data.length; i += 1) {\r\n\t\t\t\t\tc.beginPath();\r\n\t\t\t\t\tc.arc(getXPixel(data, i), getYPixel(data, data[i][field]), 4, 0, Math.PI * 2, true);\r\n\t\t\t\t\tc.fill();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// #graph {\r\n// \twidth: 500px;\r\n// \theight: 300px;\r\n// }\r\n\r\n// @media (max-width: 1440px) {\r\n// \t#graph {\r\n// \t\twidth: 500px;\r\n// \t\theight: 300px;\r\n// \t}\r\n// }\r\n// @media (max-width: 1020px) {\r\n// \t#graph {\r\n// \t\twidth: 780px;\r\n// \t}\r\n// }\r\n// @media (max-width: 780px) {\r\n// \t#graph {\r\n// \t\twidth: 320px;\r\n// \t}\r\n// }\r\n// @media (max-width: 320px) {\r\n// \t#graph {\r\n// \t\twidth: 300px;\r\n// \t}\r\n// }\r\n</style>\r\n"]}]}