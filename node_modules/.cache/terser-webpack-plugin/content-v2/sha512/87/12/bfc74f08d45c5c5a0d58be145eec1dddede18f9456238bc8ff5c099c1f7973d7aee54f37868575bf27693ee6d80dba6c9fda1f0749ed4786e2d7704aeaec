{"code":"(function(e){function t(t){for(var r,i,s=t[0],u=t[1],c=t[2],l=0,f=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function i(e){return s.p+\"assets/js/\"+({about:\"about\",dictionary:\"dictionary\",\"english-puzzle\":\"english-puzzle\",home:\"home\",\"login~signup\":\"login~signup\",login:\"login\",signup:\"signup\",profile:\"profile\",speaking:\"speaking\"}[e]||e)+\".\"+{about:\"193240a5\",dictionary:\"5a6edc8e\",\"english-puzzle\":\"723331e4\",home:\"18e43ff5\",\"login~signup\":\"c016b761\",login:\"154e5fd9\",signup:\"05e6c78e\",profile:\"2ae43cf2\",speaking:\"57d70c97\"}[e]+\".js\"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var a,u=document.createElement(\"script\");u.charset=\"utf-8\",u.timeout=120,s.nc&&u.setAttribute(\"nonce\",s.nc),u.src=i(e);var c=new Error;a=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&(\"load\"===t.type?\"missing\":t.type),a=t&&t.target&&t.target.src;c.message=\"Loading chunk \"+e+\" failed.\\n(\"+r+\": \"+a+\")\",c.name=\"ChunkLoadError\",c.type=r,c.request=a,n[1](c)}o[e]=void 0}};var l=setTimeout((function(){a({type:\"timeout\",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e[\"default\"]}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"\",s.oe=function(e){throw console.error(e),e};var u=window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=c;a.push([0,\"chunk-vendors\"]),n()})({0:function(e,t,n){e.exports=n(\"56d7\")},\"1c03\":function(e,t,n){\"use strict\";var r=n(\"3c83\"),o=n.n(r);o.a},\"3c83\":function(e,t,n){var r=n(\"ec58\");\"string\"===typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);var o=n(\"499e\").default;o(\"e6ea5888\",r,!0,{sourceMap:!1,shadowMode:!1})},\"56d7\":function(e,t,n){\"use strict\";n.r(t);n(\"e260\"),n(\"e6cf\"),n(\"cca6\"),n(\"a79d\"),n(\"c1c3\");var r=n(\"2b0e\"),o=n(\"bc3a\"),a=n.n(o),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"v-app\",[n(\"alert\"),n(\"transition\",[n(\"router-view\",{attrs:{name:\"alert\"}}),n(\"router-view\")],1)],1)},s=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"v-dialog\",{class:e.getError.status+\" text-white\",attrs:{\"max-width\":\"290\",transition:\"scale-transition\"},model:{value:e.closeAlert,callback:function(t){e.closeAlert=t},expression:\"closeAlert\"}},[n(\"v-card\",[n(\"v-card-text\",{domProps:{innerHTML:e._s(e.errMessage)}})],1)],1)],1)},c=[],l=n(\"5530\"),p=n(\"2f62\"),f={name:\"alert\",components:{},props:{},data:function(){return{}},computed:Object(l[\"a\"])(Object(l[\"a\"])({},Object(p[\"c\"])([\"getError\"])),{},{closeAlert:{get:function(){return this.getError.alert},set:function(e){this.alert(e)}},errMessage:{get:function(){return this.getError.massage}}}),watch:{},created:function(){},mounted:function(){},updated:function(){console.log(this.getError)},methods:Object(l[\"a\"])({},Object(p[\"d\"])({alert:\"ERROR_ALERT\"}))},d=f,m=(n(\"1c03\"),n(\"2877\")),g=n(\"6544\"),h=n.n(g),v=n(\"b0af\"),b=n(\"99d9\"),E=n(\"169a\"),S=Object(m[\"a\"])(d,u,c,!1,null,\"316f7530\",null),R=S.exports;h()(S,{VCard:v[\"a\"],VCardText:b[\"b\"],VDialog:E[\"a\"]});var U={name:\"App\",components:{alert:R},computed:{},data:function(){return{}},mounted:function(){},methods:{}},_=U,O=n(\"7496\"),w=Object(m[\"a\"])(_,i,s,!1,null,null,null),T=w.exports;h()(w,{VApp:O[\"a\"]});n(\"99af\"),n(\"d3b7\"),n(\"96cf\");var A=n(\"1da1\"),x=n(\"8c4f\"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"div\",{staticClass:\"mx-auto custom text-center\"},[n(\"router-link\",{attrs:{to:e.isAuthenticated?\"/home\":\"/login\"}},[n(\"v-btn\",{staticClass:\"mx-2\",attrs:{text:\"\",large:\"\",color:\"primary\"}},[e._v(e._s(e.isAuthenticated?\"Home\":\"Login\"))])],1),n(\"router-link\",{attrs:{to:\"/about\"}},[n(\"v-btn\",{staticClass:\"mx-2\",attrs:{text:\"\",large:\"\",color:\"primary\"}},[e._v(\"About\")])],1),e.isAuthenticated?n(\"v-btn\",{staticClass:\"mx-2\",attrs:{text:\"\",large:\"\",color:\"warning\"},on:{click:e.logout}},[e._v(\"Logout\")]):e._e()],1),n(\"router-view\")],1)},k=[],j={name:\"Main\",components:{},props:[],data:function(){return{}},computed:Object(l[\"a\"])({},Object(p[\"c\"])([\"isAuthenticated\"])),watch:{},created:function(){},mounted:function(){},methods:Object(l[\"a\"])({},Object(p[\"b\"])({logout:\"AUTH_LOGOUT\"}))},C=j,L=n(\"8336\"),P=Object(m[\"a\"])(C,y,k,!1,null,null,null),H=P.exports;h()(P,{VBtn:L[\"a\"]}),r[\"a\"].use(x[\"a\"]);var z=function(e,t,n){X.getters.isAuthenticated?n():n(\"/login\")},M=function(e,t,n){X.getters.isAuthenticated?n(\"home\"):n()},I=[{path:\"/\",component:H,name:\"Main\",redirect:\"/home\",beforeEnter:z,children:[{path:\"/home\",component:function(){return n.e(\"home\").then(n.bind(null,\"bb51\"))},name:\"Home\"},{path:\"/profile\",component:function(){return n.e(\"profile\").then(n.bind(null,\"c66d\"))},name:\"Profile\"},{path:\"/about\",name:\"About\",component:function(){return n.e(\"about\").then(n.bind(null,\"f820\"))}}]},{path:\"/login\",name:\"Login\",component:function(){return Promise.all([n.e(\"login~signup\"),n.e(\"login\")]).then(n.bind(null,\"a55b\"))},beforeEnter:M},{path:\"/signup\",name:\"Signup\",component:function(){return Promise.all([n.e(\"login~signup\"),n.e(\"signup\")]).then(n.bind(null,\"34c3\"))},beforeEnter:M},{path:\"/english-puzzle\",name:\"English-puzzle\",component:function(){return n.e(\"english-puzzle\").then(n.bind(null,\"9da7\"))}},{path:\"/speaking\",name:\"Speaking\",component:function(){return n.e(\"speaking\").then(n.bind(null,\"08e8\"))}},{path:\"/dictionary\",name:\"Dictionary\",component:function(){return n.e(\"dictionary\").then(n.bind(null,\"468d\"))}}],Q=new x[\"a\"]({mode:\"history\",routes:I}),G=Q,V={AUTH_REQUEST:function(e){return Object(A[\"a\"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,r=e.rootState,o=e.commit,o(\"AUTH_REQUEST\"),t.next=4,a.a.post(\"\".concat(n.server,\"/signin\"),{email:r.user.profile.email,password:r.user.profile.password}).then((function(e){localStorage.setItem(\"token\",e.data.token),o(\"AUTH_SUCCESS\",e.data),a.a.defaults.headers.common.Authorization=e.data.token,o(\"user/USER_SUCCESS\",e.data,{root:!0}),G.push(\"/\")})).catch((function(e){o(\"AUTH_ERROR\",e.response),localStorage.removeItem(\"token\")}));case 4:case\"end\":return t.stop()}}),t)})))()},AUTH_LOGOUT:function(e){var t=e.commit;return new Promise((function(e){t(\"AUTH_LOGOUT\"),localStorage.removeItem(\"token\"),G.push(\"/login\"),e()}))},ALERT:function(e,t){var n=e.state;n.error={alert:t.alert,status:t.status,message:t.message}}},$={AUTH_REQUEST:function(e){e.status=\"loading\"},AUTH_SUCCESS:function(e,t){e.status=\"success\",e.token=t.token},AUTH_ERROR:function(e,t){e.status=\"error\",e.error={alert:!0,status:e.status,message:\"\".concat(t.statusText,\": \").concat(t.data)}},AUTH_LOGOUT:function(e){e.token=\"\"},ERROR_ALERT:function(e,t){e.error.alert=t}},D={isAuthenticated:function(e){return!!e.token},authStatus:function(e){return e.status},getError:function(e){return e.error}},J={server:\"https://afternoon-falls-25894.herokuapp.com\",token:localStorage.getItem(\"token\")||\"\",status:\"\",error:{alert:!1,status:\"error\",message:\"\"}},q={namespaced:!1,state:J,getters:D,actions:V,mutations:$},B=(n(\"b0c0\"),{USER_REQUEST:function(e,t){return Object(A[\"a\"])(regeneratorRuntime.mark((function n(){var r,o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,o=e.rootState,i=e.commit,s=e.dispatch,i(\"USER_REQUEST\"),i(\"USER_SUCCESS\",t),n.next=5,a.a.get(\"\".concat(o.app.server,\"/users/\").concat(r.profile.userId)).then((function(e){console.log(\"Получил\",e)})).catch((function(e){s(\"ALERT\",{alert:!0,status:\"error\",message:\"\".concat(e.response.statusText,\": \").concat(e.response.data)},{root:!0}),i(\"USER_ERROR\"),s(\"AUTH_LOGOUT\",null,{root:!0})}));case 5:case\"end\":return n.stop()}}),n)})))()},USER_SIGNUP:function(e){return Object(A[\"a\"])(regeneratorRuntime.mark((function t(){var n,r,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,r=e.rootState,o=e.commit,i=e.dispatch,o(\"USER_REQUEST\"),s={email:n.profile.email,password:n.profile.password},t.next=5,a.a.post(\"\".concat(r.app.server,\"/users\"),s).then((function(e){o(\"USER_SUCCESS\",e),i(\"AUTH_REQUEST\",s,{root:!0})})).catch((function(e){i(\"ALERT\",{alert:!0,status:\"error\",message:\"\".concat(e.response.statusText,\": \").concat(e.response.data)},{root:!0}),o(\"USER_ERROR\")}));case 5:case\"end\":return t.stop()}}),t)})))()}}),F={USER_REQUEST:function(e){e.status=\"loading\"},USER_SUCCESS:function(e,t){e.status=\"success\",e.profile.userId=t.userId?t.userId:e.profile.userId,e.profile.email=t.email?t.email:e.profile.email},USER_LOGOUT:function(e){e.profile={userId:\"\",email:\"\",password:\"\"}},USER_ERROR:function(e){e.status=\"error\"},USER_FORM:function(e,t){e.profile[t.key]=t.value}},N={getProfile:function(e){return e.profile},isProfileLoaded:function(e){return!!e.profile.name}},K={status:\"\",profile:{userId:\"\",email:\"\",password:\"\"}},W={namespaced:!0,state:K,getters:N,actions:B,mutations:F};r[\"a\"].use(p[\"a\"]);var X=new p[\"a\"].Store({strict:!1,modules:{app:q,user:W}}),Y=n(\"f309\");r[\"a\"].use(Y[\"a\"]);var Z=new Y[\"a\"]({});r[\"a\"].config.productionTip=!1;var ee=localStorage.getItem(\"token\");ee&&(a.a.defaults.headers.common.Authorization=ee),new r[\"a\"]({store:X,router:G,vuetify:Z,render:function(e){return e(T)}}).$mount(\"#app\")},c1c3:function(e,t,n){var r=n(\"ca0e\");\"string\"===typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);var o=n(\"499e\").default;o(\"4e2bc680\",r,!0,{sourceMap:!1,shadowMode:!1})},ca0e:function(e,t,n){var r=n(\"24fb\");t=r(!1),t.push([e.i,\".custom{background-color:#e8e8e8}\",\"\"]),e.exports=t},ec58:function(e,t,n){var r=n(\"24fb\");t=r(!1),t.push([e.i,\".alert-absolute[data-v-316f7530]{position:absolute!important;width:100%}\",\"\"]),e.exports=t}});","extractedComments":[]}